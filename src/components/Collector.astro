---
import type { ImageMetadata } from 'astro';
import { Image } from "astro:assets";

const { id, img, alt, show, format='png' } = Astro.props;
const imagePath = '/src/assets/work/' + img;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/**/*.{jpeg,jpg,png,gif}')
if (!images[imagePath]) throw new Error(`"${imagePath}" does not exist in glob: "/src/assets/**/*.{jpeg,jpg,png,gif}"`);
---

<span id={id} class="collector-jump-point">
  {show && <Image src={images[imagePath]()} alt={alt} format={format}></Image>}
</span>